<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>G√©n√©rateur de prompt PBX (Best Practices)</title>
  <style>
    * { box-sizing: border-box; font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif; }
    body { margin: 0; padding: 0; background: #f3f5f7; display: flex; justify-content: center; align-items: flex-start; min-height: 100vh; }
    .container { max-width: 980px; width: 100%; background: #ffffff; margin: 24px; padding: 24px 28px 32px; border-radius: 18px; box-shadow: 0 12px 35px rgba(15, 23, 42, 0.12); }
    h1 { text-align: center; margin-top: 0; margin-bottom: 4px; font-size: 26px; }
    h1 span { font-size: 18px; display: block; color: #64748b; font-weight: 400; margin-top: 4px; }

    .top-hints {
      display: grid;
      grid-template-columns: 1fr 1fr 1fr;
      gap: 10px;
      margin: 16px 0 18px;
    }
    .hint {
      border: 1px solid #e2e8f0;
      border-radius: 14px;
      padding: 12px 12px;
      background: #f8fafc;
      color: #334155;
      font-size: 13px;
      line-height: 1.35;
    }
    .hint strong { color: #0f172a; font-weight: 650; }
    .hint .emoji { margin-right: 6px; }

    .section-title { font-weight: 650; margin-bottom: 4px; display: flex; align-items: center; gap: 8px; }
    .section-title .badge {
      display: inline-flex; align-items: center; justify-content: center;
      width: 24px; height: 24px; border-radius: 999px; font-size: 13px; color: #ffffff; flex-shrink: 0;
    }
    .badge-1 { background: #22c55e; }    /* Action */
    .badge-2 { background: #3b82f6; }    /* Cible + visuel */
    .badge-3 { background: #6366f1; }    /* Comportement */
    .badge-4 { background: #f97373; }    /* Contraintes */
    .badge-5 { background: #94a3b8; }    /* Inputs */

    .field { margin-bottom: 18px; }
    .description { margin: 2px 0 6px; font-size: 13px; color: #64748b; line-height: 1.4; }
    .description strong { font-weight: 650; color: #0f172a; }
    .helper-example { font-size: 12px; color: #94a3b8; margin-top: 2px; font-style: italic; }

    .grid-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
    .grid-3 { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 12px; }

    textarea, select, input[type="text"] {
      width: 100%;
      padding: 10px 12px;
      border-radius: 10px;
      border: 1px solid #cbd5e1;
      font-size: 14px;
      outline: none;
      transition: border-color 0.15s, box-shadow 0.15s;
      background: #f8fafc;
    }
    textarea { min-height: 78px; resize: vertical; }
    textarea:focus, select:focus, input[type="text"]:focus {
      border-color: #3b82f6;
      box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.2);
      background: #ffffff;
    }

    .inline {
      display: flex; align-items: center; gap: 10px; flex-wrap: wrap;
      margin: 8px 0 0;
      color: #475569; font-size: 13px;
    }
    .chip {
      display: inline-flex; align-items: center; gap: 8px;
      border: 1px solid #e2e8f0; background: #ffffff; padding: 8px 10px;
      border-radius: 999px;
    }
    .chip input { margin: 0; }

    .callout {
      border: 1px solid #e2e8f0;
      background: #fff7ed;
      border-radius: 14px;
      padding: 12px 12px;
      color: #7c2d12;
      font-size: 13px;
      line-height: 1.35;
      margin: 12px 0 0;
    }
    .callout strong { color: #7c2d12; }

    .warn {
      display: none;
      margin-top: 8px;
      padding: 10px 12px;
      border-radius: 12px;
      background: #fef2f2;
      border: 1px solid #fecaca;
      color: #991b1b;
      font-size: 13px;
      line-height: 1.35;
    }

    .actions {
      display: flex; flex-wrap: wrap; justify-content: space-between; align-items: center;
      gap: 10px; margin: 18px 0; border-top: 1px solid #e2e8f0; padding-top: 16px;
    }
    .actions-left { font-size: 13px; color: #64748b; }
    button {
      border-radius: 999px; border: none; padding: 10px 18px; font-size: 14px; cursor: pointer;
      display: inline-flex; align-items: center; gap: 6px; font-weight: 600; white-space: nowrap;
    }
    #generateBtn { background: #2563eb; color: #ffffff; }
    #copyBtn { background: #e2e8f0; color: #0f172a; }

    #result {
      min-height: 150px;
      background: #020617;
      color: #e5e7eb;
      font-family: "SF Mono", Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size: 13px;
      border-radius: 12px;
      padding: 12px 14px;
      border: none;
      margin-top: 4px;
      white-space: pre-wrap;
    }
    .result-label { font-weight: 650; margin-top: 10px; margin-bottom: 4px; }
    .status { font-size: 12px; color: #16a34a; margin-left: 8px; display: none; }

    .toggle {
      display: flex; align-items: center; justify-content: space-between;
      padding: 10px 12px; border: 1px solid #e2e8f0; border-radius: 12px;
      background: #f8fafc; margin-top: 10px;
      font-size: 13px; color: #334155;
    }
    .toggle small { color: #64748b; display: block; margin-top: 2px; }
    .toggle input { transform: scale(1.05); }

    @media (max-width: 860px) {
      .top-hints { grid-template-columns: 1fr; }
      .grid-2, .grid-3 { grid-template-columns: 1fr; }
      .container { margin: 12px; padding: 16px; }
      h1 { font-size: 22px; }
    }
  </style>
</head>

<body>
<div class="container">
  <h1>
    G√©n√©rateur de prompt PBX ‚Äî Best Practices
    <span>Un prompt = 1 use case ‚Ä¢ explicite ‚Ä¢ it√©ratif ‚Ä¢ exploitable</span>
  </h1>

  <div class="top-hints">
    <div class="hint"><span class="emoji">‚úÖ</span><strong>Step-by-step</strong><br/>D√©cris l‚Äôaction, puis le rendu attendu, puis les contraintes.</div>
    <div class="hint"><span class="emoji">üîÅ</span><strong>It√©rer</strong><br/>Pr√©vois une version V1 + am√©liorations (ou questions si infos manquantes).</div>
    <div class="hint"><span class="emoji">üí∏</span><strong>√âviter les d√©penses inutiles</strong><br/>Sois pr√©cis sur la cible, les d√©tails et le format final.</div>
  </div>

  <form id="promptForm" onsubmit="return false;">

    <!-- A) GARDE-FOU : 1 prompt = 1 use case -->
    <div class="field">
      <div class="section-title">
        <div class="badge badge-5">0</div>
        Use case unique
      </div>
      <div class="description">
        Choisis <strong>un seul objectif</strong>. Si tu as plusieurs demandes, fais plusieurs prompts.
      </div>
      <div class="grid-2">
        <div>
          <div class="helper-example">Ex. : ‚ÄúOptimiser un √©cran checkout‚Äù / ‚ÄúCr√©er 3 variantes de hero‚Äù</div>
          <input id="useCaseTitle" type="text" placeholder="Nom du use case (1 phrase)" />
        </div>
        <div>
          <div class="helper-example">Ex. : CRO / UX writing / UI / AB test / Landing page‚Ä¶</div>
          <select id="useCaseType">
            <option value="">Type de use case (optionnel)</option>
            <option value="CRO / AB test">CRO / AB test</option>
            <option value="UX / UI">UX / UI</option>
            <option value="Copywriting">Copywriting</option>
            <option value="Audit / Diagnostic">Audit / Diagnostic</option>
            <option value="Id√©ation / Variantes">Id√©ation / Variantes</option>
            <option value="Autre">Autre</option>
          </select>
        </div>
      </div>
      <div id="warnUseCase" class="warn"></div>
    </div>

    <!-- 1) ACTION : ce qu'on veut faire -->
    <div class="field">
      <div class="section-title">
        <div class="badge badge-1">1</div>
        Action + objectif (explicite)
      </div>
      <div class="description">
        D√©cris <strong>exactement l‚Äôaction</strong> et le <strong>r√©sultat attendu</strong> (et pas juste le contexte).
      </div>
      <div class="grid-2">
        <div>
          <div class="helper-example">Ex. : ‚ÄúG√©n√©rer 3 variantes de headline pour am√©liorer le CTR‚Äù</div>
          <textarea id="actionTask" placeholder="Action √† r√©aliser (1-3 phrases max)"></textarea>
        </div>
        <div>
          <div class="helper-example">Ex. : ‚Äú+10% CTR / r√©duire abandons / clart√© du value prop‚Äù</div>
          <textarea id="successCriteria" placeholder="KPI / crit√®res de succ√®s / d√©finition d‚Äôune ‚Äúbonne‚Äù r√©ponse"></textarea>
        </div>
      </div>
      <div class="grid-2" style="margin-top:12px;">
        <div>
          <div class="helper-example">Ex. : ‚ÄúUtilisateurs mobile, France, nouveaux visiteurs‚Äù</div>
          <textarea id="audience" placeholder="Cible (qui ?) + contexte d‚Äôusage (o√π ? quand ?)"></textarea>
        </div>
        <div>
          <div class="helper-example">Ex. : ‚ÄúSite e-commerce, page produit, checkout, B2B SaaS‚Ä¶‚Äù</div>
          <textarea id="scopeContext" placeholder="P√©rim√®tre (page, module, √©tape du funnel, device, pays‚Ä¶)"></textarea>
        </div>
      </div>
      <div id="warnAction" class="warn"></div>
    </div>

    <!-- 2) CIBLE + DETAILS VISUELS -->
    <div class="field">
      <div class="section-title">
        <div class="badge badge-2">2</div>
        Cible + d√©tails (visuels / texte / structure)
      </div>
      <div class="description">
        Identifie <strong>l‚Äô√©l√©ment exact √† modifier</strong> et donne des d√©tails pr√©cis : <strong>couleur / style / taille / contraintes UI</strong>.
      </div>

      <div class="grid-2">
        <div>
          <div class="helper-example">Ex. : ‚ÄúHero / CTA / bloc pricing / formulaire / panier‚Ä¶‚Äù</div>
          <textarea id="targetElement" placeholder="√âl√©ment(s) cibl√©(s) ‚Äî sois pr√©cis (id√©alement 1 √©l√©ment principal)"></textarea>
        </div>
        <div>
          <div class="helper-example">Ex. : ‚ÄúStyle √©pur√©, ton rassurant, 12 mots max, pas de jargon‚Äù</div>
          <textarea id="visualDetails" placeholder="D√©tails attendus (style, taille, longueur, tonalit√©, vocabulaire, UI)"></textarea>
        </div>
      </div>

      <div class="grid-2" style="margin-top:12px;">
        <div>
          <div class="helper-example">Ex. : ‚ÄúCouleurs de marque #‚Ä¶ / police / spacing / composants‚Äù</div>
          <textarea id="designSystem" placeholder="Design system / charte (si applicable)"></textarea>
        </div>
        <div>
          <div class="helper-example">Ex. : ‚ÄúVoici un exemple de variante qui marche : ‚Ä¶‚Äù</div>
          <textarea id="examples" placeholder="Exemples √† suivre / √† √©viter (tr√®s concret)"></textarea>
        </div>
      </div>

      <div id="warnTarget" class="warn"></div>
    </div>

    <!-- 3) COMPORTEMENT ATTENDU -->
    <div class="field">
      <div class="section-title">
        <div class="badge badge-3">3</div>
        Comportement attendu (workflow + it√©ration)
      </div>
      <div class="description">
        Explique <strong>comment travailler</strong> : step-by-step, v√©rifications, nombre de variantes, niveau d‚Äôaudace, etc.
      </div>

      <div class="grid-3">
        <div>
          <div class="helper-example">Ex. : ‚Äú3 variantes conservatrices + 2 audacieuses‚Äù</div>
          <textarea id="variantsSpec" placeholder="Variantes : nombre + typologie (optionnel)"></textarea>
        </div>
        <div>
          <div class="helper-example">Ex. : ‚ÄúCommencer par lister hypoth√®ses, puis proposer‚Äù</div>
          <textarea id="workflow" placeholder="√âtapes de travail (step-by-step)"></textarea>
        </div>
        <div>
          <div class="helper-example">Ex. : ‚ÄúSi info manquante ‚Üí poser 3 questions max‚Äù</div>
          <textarea id="clarificationPolicy" placeholder="Politique de clarification / it√©ration"></textarea>
        </div>
      </div>

      <div class="inline" style="margin-top:10px;">
        <span class="chip"><input type="checkbox" id="askIfMissing" checked /> <label for="askIfMissing">Si info critique manquante, poser des questions avant de produire</label></span>
        <span class="chip"><input type="checkbox" id="selfCheck" checked /> <label for="selfCheck">Inclure une checklist qualit√© avant la r√©ponse finale</label></span>
      </div>

      <div class="callout">
        <strong>Anti-erreur :</strong> √©vite de m√©langer plusieurs objectifs. Si tu veux ‚Äúauditer + √©crire + designer‚Äù, d√©coupe en 2-3 prompts.
      </div>

      <div id="warnBehavior" class="warn"></div>
    </div>

    <!-- 4) CONTRAINTES -->
    <div class="field">
      <div class="section-title">
        <div class="badge badge-4">4</div>
        Contraintes (techniques + exclusions + √† √©viter)
      </div>
      <div class="description">
        Liste les <strong>limitations</strong>, exigences (accessibilit√©, SEO‚Ä¶), et surtout <strong>ce qu‚Äôil ne faut pas faire</strong>.
      </div>

      <div class="grid-2">
        <div>
          <div class="helper-example">Ex. : ‚Äú12 mots max / pas de promesses l√©gales / RGPD‚Äù</div>
          <textarea id="constraints" placeholder="Contraintes fortes (hard rules)"></textarea>
        </div>
        <div>
          <div class="helper-example">Ex. : ‚ÄúPas de jargon / pas de claims non prouv√©s / pas de discount‚Äù</div>
          <textarea id="avoidList" placeholder="√Ä √©viter (ban list / pi√®ges / interdits)"></textarea>
        </div>
      </div>

      <div class="toggle">
        <div>
          <strong>Inclure des infos techniques/back-end ?</strong>
          <small>√Ä utiliser seulement si √ßa influence r√©ellement la recommandation (sinon, √ßa d√©grade la qualit√©).</small>
        </div>
        <input type="checkbox" id="showTech" />
      </div>

      <div id="techBlock" style="display:none; margin-top:12px;">
        <div class="grid-2">
          <div>
            <div class="helper-example">Ex. : ‚ÄúTracking GA4 existant / events disponibles / contraintes CMS‚Äù</div>
            <textarea id="techInfo" placeholder="Infos techniques pertinentes (minimum n√©cessaire)"></textarea>
          </div>
          <div>
            <div class="helper-example">Ex. : ‚ÄúOn ne peut pas modifier le checkout / A/B test via ‚Ä¶‚Äù</div>
            <textarea id="techLimitations" placeholder="Limitations techniques impactantes"></textarea>
          </div>
        </div>
      </div>

      <div id="warnConstraints" class="warn"></div>
    </div>

    <!-- INPUTS (optionnel, mais utile) -->
    <div class="field">
      <div class="section-title">
        <div class="badge badge-5">5</div>
        Inputs (donn√©es / contenu / contexte)
      </div>
      <div class="description">
        Colle ici uniquement ce qui est <strong>utile</strong> : extrait de page, messages cl√©s, infos produit, etc.
      </div>
      <div class="grid-2">
        <div>
          <div class="helper-example">Ex. : ‚ÄúR√©sum√© produit / proposition de valeur / objections clients‚Äù</div>
          <textarea id="backgroundData" placeholder="Donn√©es et contexte utiles (pas de bruit)"></textarea>
        </div>
        <div>
          <div class="helper-example">Ex. : ‚ÄúSortie en tableau / JSON / markdown + champs obligatoires‚Äù</div>
          <textarea id="outputFormatting" placeholder="Format de sortie exact attendu"></textarea>
        </div>
      </div>
    </div>

    <!-- Actions -->
    <div class="actions">
      <div class="actions-left">
        Remplis surtout <strong>1) Action</strong>, <strong>2) Cible</strong>, <strong>4) Contraintes</strong>. Puis g√©n√®re.
      </div>
      <div>
        <button id="generateBtn" type="button">‚öôÔ∏è G√©n√©rer le prompt</button>
        <button id="copyBtn" type="button">üìã Copier</button>
        <span id="status" class="status">Prompt copi√© !</span>
      </div>
    </div>

    <!-- R√©sultat -->
    <div class="result-label">Prompt g√©n√©r√© :</div>
    <textarea id="result" readonly placeholder="Le prompt complet appara√Ætra ici..."></textarea>
  </form>
</div>

<script>
  function buildPromptSection(title, content) {
    if (!content || !content.trim()) return "";
    return "## " + title + "\n" + content.trim() + "\n\n";
  }

  function showWarn(id, msg) {
    const el = document.getElementById(id);
    el.textContent = msg;
    el.style.display = "block";
  }
  function hideWarn(id) {
    const el = document.getElementById(id);
    el.style.display = "none";
    el.textContent = "";
  }

  function looksVague(text) {
    if (!text) return true;
    const t = text.trim().toLowerCase();
    if (t.length < 18) return true;
    const vagueMarkers = [
      "am√©liorer", "optimiser", "faire mieux", "augmenter", "rendre plus", "peaufiner",
      "un truc", "quelque chose", "comme tu veux", "peu importe", "√† ta guise"
    ];
    return vagueMarkers.some(m => t.includes(m)) && t.length < 60;
  }

  function hasMultipleObjectives(text) {
    if (!text) return false;
    const t = text.toLowerCase();
    // heuristique simple : trop de "et", "puis", "en m√™me temps", "√† la fois"
    const hits = [" en m√™me temps", " √† la fois", " puis ", " et "].reduce((acc, k) => acc + (t.split(k).length - 1), 0);
    return hits >= 4; // seuil volontairement bas pour alerter
  }

  document.getElementById("showTech").addEventListener("change", function () {
    document.getElementById("techBlock").style.display = this.checked ? "block" : "none";
  });

  document.getElementById("generateBtn").addEventListener("click", function () {
    // reset warnings
    ["warnUseCase","warnAction","warnTarget","warnBehavior","warnConstraints"].forEach(hideWarn);

    const useCaseTitle = document.getElementById("useCaseTitle").value;
    const useCaseType = document.getElementById("useCaseType").value;

    const actionTask = document.getElementById("actionTask").value;
    const successCriteria = document.getElementById("successCriteria").value;
    const audience = document.getElementById("audience").value;
    const scopeContext = document.getElementById("scopeContext").value;

    const targetElement = document.getElementById("targetElement").value;
    const visualDetails = document.getElementById("visualDetails").value;
    const designSystem = document.getElementById("designSystem").value;
    const examples = document.getElementById("examples").value;

    const variantsSpec = document.getElementById("variantsSpec").value;
    const workflow = document.getElementById("workflow").value;
    const clarificationPolicy = document.getElementById("clarificationPolicy").value;

    const constraints = document.getElementById("constraints").value;
    const avoidList = document.getElementById("avoidList").value;

    const includeTech = document.getElementById("showTech").checked;
    const techInfo = includeTech ? document.getElementById("techInfo").value : "";
    const techLimitations = includeTech ? document.getElementById("techLimitations").value : "";

    const backgroundData = document.getElementById("backgroundData").value;
    const outputFormatting = document.getElementById("outputFormatting").value;

    const askIfMissing = document.getElementById("askIfMissing").checked;
    const selfCheck = document.getElementById("selfCheck").checked;

    // Guardrails
    if (!useCaseTitle.trim()) {
      showWarn("warnUseCase", "‚ö†Ô∏è Donne un nom de use case (1 phrase). √áa force un objectif unique.");
    } else if (hasMultipleObjectives(useCaseTitle)) {
      showWarn("warnUseCase", "‚ö†Ô∏è Ton use case ressemble √† plusieurs objectifs. Essaie de le reformuler en UNE phrase / UNE intention.");
    }

    if (looksVague(actionTask)) {
      showWarn("warnAction", "‚ö†Ô∏è Action trop vague. D√©cris l‚Äôaction concr√®te + livrable (ex : ‚Äúproduire 5 variantes de CTA‚Ä¶‚Äù).");
    } else if (hasMultipleObjectives(actionTask)) {
      showWarn("warnAction", "‚ö†Ô∏è Tu sembles m√©langer plusieurs objectifs. D√©coupe en plusieurs prompts si besoin.");
    }

    if (!targetElement.trim() || looksVague(targetElement)) {
      showWarn("warnTarget", "‚ö†Ô∏è Cible floue. Indique l‚Äô√©l√©ment exact √† modifier (hero, CTA, pricing, formulaire‚Ä¶) + o√π il se trouve.");
    }

    if (!constraints.trim() && !avoidList.trim()) {
      showWarn("warnConstraints", "‚ö†Ô∏è Ajoute au moins 1 contrainte ou 1 √©l√©ment √† √©viter (sinon l‚ÄôIA partira trop large).");
    }

    if (!workflow.trim() && !variantsSpec.trim()) {
      showWarn("warnBehavior", "‚ö†Ô∏è D√©cris le comportement attendu : √©tapes de travail OU nombre/type de variantes.");
    }

    // Build prompt
    const promptParts = [];

    const meta = [
      useCaseType ? `Type: ${useCaseType}` : null,
      askIfMissing ? "Politique: poser des questions si info critique manquante" : "Politique: produire directement avec hypoth√®ses explicites",
      selfCheck ? "Qualit√©: inclure une checklist rapide avant la r√©ponse finale" : null,
      includeTech ? "Tech: infos techniques incluses (minimum n√©cessaire)" : "Tech: √©viter les consid√©rations back-end non pertinentes"
    ].filter(Boolean).join(" | ");

    const systemBlock =
`Tu es une IA experte en prompt-based experimentation (PBX). 
Objectif: produire une r√©ponse directement exploitable, pr√©cise et align√©e avec un unique use case.
R√®gles globales:
- Un prompt = un use case (si plusieurs objectifs ‚Üí proposer de d√©couper).
- Ne pas deviner: si une info critique manque, ${askIfMissing ? "poser jusqu‚Äô√† 3 questions maximum avant de produire" : "formuler des hypoth√®ses explicites et continuer"}.
- Ne pas d√©river vers du back-end/technique sauf si explicitement requis.
- Sorties concr√®tes, actionnables, et format√©es comme demand√©.
`;

    promptParts.push(systemBlock.trim() + "\n\n");

    promptParts.push(buildPromptSection("Use case", `Titre: ${useCaseTitle || "(non pr√©cis√©)"}\n${useCaseType ? "Type: " + useCaseType : ""}\n${meta ? "\n" + meta : ""}`));

    promptParts.push(buildPromptSection("1) Action + objectif", actionTask));
    promptParts.push(buildPromptSection("Crit√®res de succ√®s (KPI / qualit√©)", successCriteria));
    promptParts.push(buildPromptSection("Cible & contexte d‚Äôusage", audience));
    promptParts.push(buildPromptSection("P√©rim√®tre (scope)", scopeContext));

    promptParts.push(buildPromptSection("2) Cible √† modifier", targetElement));
    promptParts.push(buildPromptSection("D√©tails attendus (visuel/texte/structure)", visualDetails));
    promptParts.push(buildPromptSection("Design system / charte", designSystem));
    promptParts.push(buildPromptSection("Exemples √† suivre / √† √©viter", examples));

    promptParts.push(buildPromptSection("3) Comportement attendu", [
      variantsSpec ? ("Variantes:\n" + variantsSpec) : null,
      workflow ? ("Step-by-step:\n" + workflow) : null,
      clarificationPolicy ? ("It√©ration / clarification:\n" + clarificationPolicy) : null
    ].filter(Boolean).join("\n\n")));

    promptParts.push(buildPromptSection("4) Contraintes", constraints));
    promptParts.push(buildPromptSection("√Ä √©viter", avoidList));

    if (includeTech) {
      promptParts.push(buildPromptSection("Infos techniques pertinentes (minimum n√©cessaire)", techInfo));
      promptParts.push(buildPromptSection("Limitations techniques impactantes", techLimitations));
    }

    promptParts.push(buildPromptSection("Inputs / donn√©es utiles", backgroundData));
    promptParts.push(buildPromptSection("Format de sortie", outputFormatting));

    // Final instruction block (module-friendly)
    const executionBlock =
`Consigne d‚Äôex√©cution:
1) Si des informations critiques manquent (cible, contraintes, format, succ√®s), ${askIfMissing ? "pose jusqu‚Äô√† 3 questions puis attends mes r√©ponses." : "√©nonce tes hypoth√®ses en 3 puces max, puis continue."}
2) Produis une V1 directement exploitable.
3) ${selfCheck ? "Termine par une checklist courte (5 points max) confirmant le respect des contraintes + format." : "V√©rifie bri√®vement la conformit√© aux contraintes."}
`;

    const finalPrompt = (promptParts.join("") + "\n" + executionBlock).trim();

    document.getElementById("result").value = finalPrompt;
    document.getElementById("status").style.display = "none";
  });

  document.getElementById("copyBtn").addEventListener("click", function () {
    const result = document.getElementById("result");
    if (!result.value.trim()) return;

    result.select();
    result.setSelectionRange(0, 99999);
    navigator.clipboard.writeText(result.value).then(function () {
      const status = document.getElementById("status");
      status.textContent = "Prompt copi√© !";
      status.style.display = "inline";
      setTimeout(() => { status.style.display = "none"; }, 2000);
    });
  });
</script>
</body>
</html>
