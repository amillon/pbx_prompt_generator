<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>G√©n√©rateur de prompt pour PBX</title>
  <style>
    * {
      box-sizing: border-box;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    }

    body {
      margin: 0;
      padding: 0;
      background: #f3f5f7;
      display: flex;
      justify-content: center;
      align-items: flex-start;
      min-height: 100vh;
    }

    .container {
      max-width: 900px;
      width: 100%;
      background: #ffffff;
      margin: 24px;
      padding: 24px 28px 32px;
      border-radius: 18px;
      box-shadow: 0 12px 35px rgba(15, 23, 42, 0.12);
    }

    h1 {
      text-align: center;
      margin-top: 0;
      margin-bottom: 4px;
      font-size: 26px;
    }

    h1 span {
      font-size: 18px;
      display: block;
      color: #64748b;
      font-weight: 400;
      margin-top: 4px;
    }

    .section-title {
      font-weight: 600;
      margin-bottom: 4px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .section-title .badge {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 24px;
      height: 24px;
      border-radius: 999px;
      font-size: 13px;
      color: #ffffff;
      flex-shrink: 0;
    }

    .badge-1 { background: #f97373; }
    .badge-2 { background: #fb923c; }
    .badge-3 { background: #22c55e; }
    .badge-4 { background: #14b8a6; }
    .badge-5 { background: #3b82f6; }
    .badge-6 { background: #6366f1; }
    .badge-7 { background: #f97373; }
    .badge-8 { background: #f97373; }
    .badge-9 { background: #94a3b8; }
    .badge-10 { background: #94a3b8; }

    .field {
      margin-bottom: 18px;
    }

    .description {
      margin: 2px 0 6px;
      font-size: 13px;
      color: #64748b;
      line-height: 1.4;
    }

    .description strong {
      font-weight: 600;
      color: #0f172a;
    }

    textarea {
      width: 100%;
      min-height: 70px;
      resize: vertical;
      padding: 10px 12px;
      border-radius: 10px;
      border: 1px solid #cbd5e1;
      font-size: 14px;
      outline: none;
      transition: border-color 0.15s, box-shadow 0.15s;
      background: #f8fafc;
    }

    textarea:focus {
      border-color: #3b82f6;
      box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.2);
      background: #ffffff;
    }

    .helper-example {
      font-size: 12px;
      color: #94a3b8;
      margin-top: 2px;
      font-style: italic;
    }

    .actions {
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between;
      align-items: center;
      gap: 10px;
      margin: 18px 0;
      border-top: 1px solid #e2e8f0;
      padding-top: 16px;
    }

    .actions-left {
      font-size: 13px;
      color: #64748b;
    }

    button {
      border-radius: 999px;
      border: none;
      padding: 10px 18px;
      font-size: 14px;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      font-weight: 500;
      white-space: nowrap;
    }

    #generateBtn {
      background: #2563eb;
      color: #ffffff;
    }

    #copyBtn {
      background: #e2e8f0;
      color: #0f172a;
    }

    #result {
      min-height: 120px;
      background: #020617;
      color: #e5e7eb;
      font-family: "SF Mono", Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size: 13px;
      border-radius: 12px;
      padding: 12px 14px;
      border: none;
      margin-top: 4px;
      white-space: pre-wrap;
    }

    .result-label {
      font-weight: 600;
      margin-top: 10px;
      margin-bottom: 4px;
    }

    .status {
      font-size: 12px;
      color: #16a34a;
      margin-left: 8px;
      display: none;
    }

    @media (max-width: 640px) {
      .container {
        margin: 12px;
        padding: 16px;
      }

      h1 {
        font-size: 22px;
      }
    }
  </style>
</head>
<body>
<div class="container">
  <h1>
    G√©n√©rateur de prompt complet pour PBX
    <span>Remplissez les blocs, puis g√©n√©rez un prompt clair pour l‚ÄôIA.</span>
  </h1>

  <form id="promptForm" onsubmit="return false;">
    <!-- 1. Contexte de la t√¢che -->
    <div class="field">
      <div class="section-title">
        <div class="badge badge-1">1</div>
        Contexte de la t√¢che
      </div>
      <div class="description">
        Expliquez <strong>√† quoi sert la demande</strong>, pour qui, et dans quel cadre.
      </div>
      <div class="helper-example">
        Exemple : ¬´ Je pr√©pare une newsletter pour des d√©veloppeurs juniors dans une startup SaaS. ¬ª
      </div>
      <textarea id="taskContext" placeholder="D√©crivez le contexte g√©n√©ral de la t√¢che..."></textarea>
    </div>

    <!-- 2. Contexte de ton -->
    <div class="field">
      <div class="section-title">
        <div class="badge badge-2">2</div>
        Contexte de ton et style
      </div>
      <div class="description">
        Pr√©cisez <strong>le ton</strong> et <strong>le style d‚Äô√©criture</strong> souhait√©s.
      </div>
      <div class="helper-example">
        Exemple : ¬´ Ton professionnel mais accessible, tutoiement, phrases courtes, un peu d‚Äôhumour. ¬ª
      </div>
      <textarea id="toneContext" placeholder="D√©crivez le ton, le niveau de langage, la personne (je/tu/vous), etc."></textarea>
    </div>

    <!-- 3. Donn√©es / documents -->
    <div class="field">
      <div class="section-title">
        <div class="badge badge-3">3</div>
        Donn√©es, documents et √©l√©ments de contexte
      </div>
      <div class="description">
        Listez ici les <strong>donn√©es importantes</strong> : chiffres, liens, extraits, contraintes m√©tiers...
      </div>
      <div class="helper-example">
        Exemple : ¬´ Le produit : outil de gestion de projet. Cible : PME. Lien fiche produit : ‚Ä¶ ¬ª
      </div>
      <textarea id="backgroundData" placeholder="Collez ou d√©crivez ici les infos importantes √† prendre en compte."></textarea>
    </div>

    <!-- 4. Description d√©taill√©e & r√®gles -->
    <div class="field">
      <div class="section-title">
        <div class="badge badge-4">4</div>
        Description d√©taill√©e de la t√¢che & r√®gles
      </div>
      <div class="description">
        D√©crivez <strong>exactement ce que l‚ÄôIA doit faire</strong> et les r√®gles √† respecter / √† √©viter.
      </div>
      <div class="helper-example">
        Exemple : ¬´ √âcris un article de blog de 1200 mots, avec introduction, 3 parties, conclusion, sans jargon juridique. ¬ª
      </div>
      <textarea id="detailedTask" placeholder="D√©crivez la t√¢che √©tape par √©tape et toutes les r√®gles √† suivre."></textarea>
    </div>

    <!-- 5. Exemples -->
    <div class="field">
      <div class="section-title">
        <div class="badge badge-5">5</div>
        Exemples √† suivre (ou √† ne pas suivre)
      </div>
      <div class="description">
        Donnez un ou plusieurs <strong>exemples de bonne r√©ponse</strong> (ou de mauvaise r√©ponse √† √©viter).
      </div>
      <div class="helper-example">
        Exemple : ¬´ Exemple de bon paragraphe : ‚Ä¶ / Exemple de style √† √©viter : ‚Ä¶ ¬ª
      </div>
      <textarea id="examples" placeholder="Collez ici des exemples concrets ou des mod√®les √† imiter / √©viter."></textarea>
    </div>

    <!-- 6. Historique de conversation utile -->
    <div class="field">
      <div class="section-title">
        <div class="badge badge-6">6</div>
        Historique de conversation ou contexte pr√©c√©dent
      </div>
      <div class="description">
        Rappelez les <strong>√©l√©ments d√©j√† √©chang√©s</strong> ou d√©cisions prises auparavant.
      </div>
      <div class="helper-example">
        Exemple : ¬´ Lors des messages pr√©c√©dents, tu as d√©j√† propos√© un plan d‚Äôarticle valid√© ci-dessous : ‚Ä¶ ¬ª
      </div>
      <textarea id="conversationHistory" placeholder="R√©sum√© des √©changes pr√©c√©dents pertinents pour cette demande."></textarea>
    </div>

    <!-- 7. Demande imm√©diate -->
    <div class="field">
      <div class="section-title">
        <div class="badge badge-7">7</div>
        Demande imm√©diate (ce que tu veux maintenant)
      </div>
      <div class="description">
        √âcris ici la <strong>formulation simple et directe</strong> de ta demande actuelle.
      </div>
      <div class="helper-example">
        Exemple : ¬´ R√©dige maintenant l‚Äôintroduction compl√®te de l‚Äôarticle en 3 paragraphes. ¬ª
      </div>
      <textarea id="immediateRequest" placeholder="Formule ta demande principale de fa√ßon claire et directe."></textarea>
    </div>

    <!-- 8. Instructions de raisonnement -->
    <div class="field">
      <div class="section-title">
        <div class="badge badge-8">8</div>
        Instructions de raisonnement (penser √©tape par √©tape)
      </div>
      <div class="description">
        Indique comment l‚ÄôIA doit <strong>raisonner</strong> : √©tapes, v√©rifications, contraintes de qualit√©.
      </div>
      <div class="helper-example">
        Exemple : ¬´ Commence par proposer un plan en puces, fais-le valider, puis r√©dige. V√©rifie que chaque partie r√©pond au besoin. ¬ª
      </div>
      <textarea id="thinkingInstructions" placeholder="D√©cris comment tu veux que l‚ÄôIA s‚Äôy prenne pour r√©fl√©chir et travailler."></textarea>
    </div>

    <!-- 9. Format de sortie -->
    <div class="field">
      <div class="section-title">
        <div class="badge badge-9">9</div>
        Format de sortie souhait√©
      </div>
      <div class="description">
        Pr√©cise le <strong>format attendu</strong> : liste, tableau, markdown, JSON, longueur, etc.
      </div>
      <div class="helper-example">
        Exemple : ¬´ R√©ponse en markdown, avec titres H2/H3, listes √† puces, et un r√©sum√© final en 3 phrases. ¬ª
      </div>
      <textarea id="outputFormatting" placeholder="Indique le format exact de la r√©ponse attendue."></textarea>
    </div>

    <!-- 10. Brouillon / r√©ponse pr√©-remplie -->
    <div class="field">
      <div class="section-title">
        <div class="badge badge-10">10</div>
        Brouillon ou r√©ponse pr√©-remplie (facultatif)
      </div>
      <div class="description">
        Collez ici un <strong>brouillon</strong> ou des √©l√©ments √† am√©liorer / r√©√©crire par l‚ÄôIA.
      </div>
      <div class="helper-example">
        Exemple : ¬´ Voici mon premier jet de texte, merci de le r√©√©crire en appliquant les r√®gles ci-dessus : ‚Ä¶ ¬ª
      </div>
      <textarea id="prefilledResponse" placeholder="Collez votre brouillon ou les √©l√©ments √† retravailler. Laissez vide si vous n‚Äôen avez pas."></textarea>
    </div>

    <!-- Actions -->
    <div class="actions">
      <div class="actions-left">
        Remplissez ce qui est utile, puis cliquez sur <strong>G√©n√©rer le prompt</strong>.
      </div>
      <div>
        <button id="generateBtn" type="button">‚öôÔ∏è G√©n√©rer le prompt</button>
        <button id="copyBtn" type="button">üìã Copier</button>
        <span id="status" class="status">Prompt copi√© !</span>
      </div>
    </div>

    <!-- R√©sultat -->
    <div class="result-label">Prompt g√©n√©r√© :</div>
    <textarea id="result" readonly placeholder="Le prompt complet appara√Ætra ici..."></textarea>
  </form>
</div>

<script>
  function buildPromptSection(title, content) {
    if (!content || !content.trim()) return "";
    return title + ":\n" + content.trim() + "\n\n";
  }

  document.getElementById("generateBtn").addEventListener("click", function () {
    const promptParts = [];

    promptParts.push(buildPromptSection("1) Contexte de la t√¢che", document.getElementById("taskContext").value));
    promptParts.push(buildPromptSection("2) Contexte de ton et style", document.getElementById("toneContext").value));
    promptParts.push(buildPromptSection("3) Donn√©es, documents et √©l√©ments de contexte", document.getElementById("backgroundData").value));
    promptParts.push(buildPromptSection("4) Description d√©taill√©e de la t√¢che & r√®gles", document.getElementById("detailedTask").value));
    promptParts.push(buildPromptSection("5) Exemples √† suivre (ou √† √©viter)", document.getElementById("examples").value));
    promptParts.push(buildPromptSection("6) Historique de conversation ou contexte pr√©c√©dent", document.getElementById("conversationHistory").value));
    promptParts.push(buildPromptSection("7) Demande imm√©diate", document.getElementById("immediateRequest").value));
    promptParts.push(buildPromptSection("8) Instructions de raisonnement", document.getElementById("thinkingInstructions").value));
    promptParts.push(buildPromptSection("9) Format de sortie souhait√©", document.getElementById("outputFormatting").value));
    promptParts.push(buildPromptSection("10) Brouillon ou r√©ponse pr√©-remplie", document.getElementById("prefilledResponse").value));

    const finalPrompt =
      "Tu es une IA √† qui l‚Äôon fournit un brief structur√©. Utilise toutes les sections suivantes pour produire la meilleure r√©ponse possible.\n\n" +
      promptParts.join("").trim();

    document.getElementById("result").value = finalPrompt;
    document.getElementById("status").style.display = "none";
  });

  document.getElementById("copyBtn").addEventListener("click", function () {
    const result = document.getElementById("result");
    if (!result.value.trim()) return;

    result.select();
    result.setSelectionRange(0, 99999);
    navigator.clipboard.writeText(result.value).then(function () {
      const status = document.getElementById("status");
      status.textContent = "Prompt copi√© !";
      status.style.display = "inline";
      setTimeout(() => { status.style.display = "none"; }, 2000);
    });
  });
</script>
</body>
</html>
